# Function Normalizer Documentation

## Overview

The `function_normalizer.py` file defines the `FunctionNormalizer` class, which is responsible for normalizing function representations to a fixed length. This normalization is crucial for preparing input data for the SAFE model, ensuring consistent input sizes.

## Class: FunctionNormalizer

```python
class FunctionNormalizer:
```

This class provides methods for normalizing function representations.

### Initialization

```python
def __init__(self, max_instruction):
```

#### Parameters:
- `max_instruction` (int): The maximum number of instructions to consider for each function.

### Methods

#### normalize

```python
def normalize(self, f):
```

Normalizes a single function representation.

##### Parameters:
- `f` (list or np.array): The function representation to normalize.

##### Returns:
- tuple: (normalized_function, original_length)
  - normalized_function (np.array): The normalized function representation.
  - original_length (int): The original length of the function before padding.

##### Process:
1. Truncates or pads the function representation to the specified maximum length.
2. Returns the normalized function and its original length.

#### normalize_function_pairs

```python
def normalize_function_pairs(self, pairs):
```

Normalizes pairs of function representations.

##### Parameters:
- `pairs` (list): A list of tuples, where each tuple contains two function representations.

##### Returns:
- tuple: (normalized_pairs, lengths)
  - normalized_pairs (list): List of normalized function pairs.
  - lengths (list): List of original lengths for each function in the pairs.

#### normalize_functions

```python
def normalize_functions(self, functions):
```

Normalizes a list of function representations.

##### Parameters:
- `functions` (list): A list of function representations to be normalized.

##### Returns:
- tuple: (normalized_functions, lengths)
  - normalized_functions (list): List of normalized function representations.
  - lengths (list): List of original lengths for each function.

## Usage

```python
normalizer = FunctionNormalizer(max_instruction=150)

# Normalize a single function
func = [1, 2, 3, 4, 5]  # Example function representation
normalized_func, length = normalizer.normalize(func)

# Normalize function pairs
pairs = [([1, 2, 3], [4, 5, 6]), ([7, 8], [9, 10, 11, 12])]
normalized_pairs, pair_lengths = normalizer.normalize_function_pairs(pairs)

# Normalize a list of functions
functions = [[1, 2, 3], [4, 5, 6, 7], [8, 9]]
normalized_functions, func_lengths = normalizer.normalize_functions(functions)
```

This class is crucial for preparing function representations for input into the SAFE model, ensuring that all inputs have a consistent size regardless of the original function length.
